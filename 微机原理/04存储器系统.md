# 存储器系统

[toc]

* 存储器系统的概念
* 半导体存储器的分类及其特点
* 半导体存储芯片的外部特性及其系统的连接
* 存储器接口设计（存储器扩展技术）
* 高速缓存

存储器是计算机系统的记忆设备，用于存放计算机要执行的指令、处理的数据、运算的结果以及各种需要保存的信息。

存储系统是将两个或两个以上速度、容量和价格各不相同的存储器用硬件、软件或软硬结合的方法连接起来。

## 存储系统的分类

* Cache存储系统
  * 主存储器
  * 高速缓冲存储器
* 虚拟存储器
  * 主存储器
  * 磁盘存储器

Cache存储系统的管理全部由硬件实现，无需系统干预。

虚拟存储系统由主存储器与磁盘存储器构成。它将主存和外存看作一个整体，用软硬件结合的方法进行管理，使得程序员能够对主存，辅存统一编制，这样形成的一个很大的地址空间，称为虚拟地址空间。

## 主要性能指标

* 存储容量（S）  字节，千字节、兆字节
* 存取时间（T）   与系统的命中率有关
  * 命中率（H）
  * $$T=H*T1+(1-H)*T2$$
* 单位容量价格（C）
* 访问效率（e）

## 半导体存储器及其分类

内存储器：主要是由半导体材料制成，也称半导体存储器
外存储器：由磁性材料或复合材料制造，包括硬磁盘，软盘，可移动硬盘，磁带，CD-ROM等

### 特点

* 内存（主存）是计算机主机的组成部分之一，用来存储当前运行所需的程序和数据，CPU可以直接访问并与其信息交换;外存属于外部设备，CPU不能直接访问，必须通过专门的接口才能实现与CPU的信息交换。
* 内存的容量小，存取速度快，价格相对较高;外存储器的容量大，价格低，但速度慢。
* 内存是数据的“临时住所”，主要用于存放程序运行时所需的信息，当程序运行结束或关机后，除少量信息(如BIOS等)外，其他信息都会立即消失。而外存储器则用于大容量，永久性的数据的保存。

### 存储元

半导体存储器由一些能够表示i二进制“0”和“1”的状态的物理器件组成，这些器件本身具有记忆功能，如电容、双稳态电路等。将这些具有记忆功能的物理器件叫做存储单元（如一个电容就是一个存储单元）。每个存储元可以保存一位h二进制信息。若干个存储元就构成了一个存储单元。在微机系统中，一个存储单元通常存放8位二进制编码（1B），即一个存储单元由8个存储元构成，许多存储单元组织在一起构成了存储器。

> 存储单元的总数称为i存储器的存储容量。

### 半导体存储器的分类

半导体存储器按照工作方式不同分为：

* 随机存取存储器RAM
* 只读ui存储器ROM

#### 随机存取存储器RAM

RAM的主要特点是可以随机进行读写操作，但掉电后信息消失，是目前微机中主内存的主要构成部件。

##### 双极型半导体RAM

存取时间短，集成度低，功耗大，价格高，主要用于要求存取时间非常短的特殊应用场合（如高速缓冲存储器Cache）。

##### 金属氧化物半导体RAM（MOS）

用MOS器件构成的RAM又分为静态读写存储器（SRAM）和动态读写存储器（DRAM）。

SRAM的存储元由双稳态触发器构成
DRAM的存储元用电容来存储信息

> 现在微型计算机中的内存主要由MOS型DRAM组成。

#### 只读存储器ROM

只读存储器包括掩模存储器ROM，PROM,EPROM,EEPROM等几种类型。

ROM的主要特点是掉电后不会丢失所存储的内容，可随机进行读操作，但不能写入或只有条件编程写入，常用于存放相对不变的数据（如BIOS等）。

1. 掩模式只读存储器ROM：对芯片图形（掩模）进行二次光刻
2. 可编程ROM（PROM）：允许用户进行一次编程，写入数据或程序。一旦编程后，信息永久保存下来
3. 可读写ROM：允许用户通过一定的方式多次写入数据或程序，也可以修改和擦除其中的内容。不会因为掉电而丢失
   1. 通过紫外线（约20分钟）进行擦除旁：EPROM
   2. 通过电信号（通常是加电压）进行擦除：EEPROM

## 半导体存储器的主要技术指标

### 存储容量

$$存储器的存储容量=存储单元的个数 X 每个存储单元的位数$$

> 例如：
> SRAM芯片6264的容量为 8K x 8b，即它有8K各单元(1K=1024)，每个单元存储8位个二进制数据

### 存取时间和存取周期

存取时间又称为存储器访问时间，即启动一次存储器操作（读或写）到完成该操作所需的时间。

存取周期是连续启动两次独立的存储器操作所需间隔的最小时间。

> 若令存取时间为t<sub>A</sub>，存取周期为T<sub>C</sub>，则二者的关系为 T<sub>C</sub> >= t<sub>A</sub>

### 可靠性

> 目前所用的半导体存储器芯片的平均故障间隔时间为 5\*10<sup>6</sup> ~ 1\*10<sup>8</sup>小时

### 功耗

功耗低的存储器可以减少电源容量的要求，还可以提高存储系统的可靠性。
