# 汇编代码

## 定义数据

*   BYTE db 8位
*   WORD dw 16位
*   DWORD dd 32位
*   QWORD qd 64位

“dw”即“define word”

## 定义段

~~~ assembly
assume cs:codesg,ds:data,ss:stack
data segment
	db 'hello world'
	dw 123H,0abcH
data ends
stack segment
	db 10 dup (0);
stack ends
codesg segment
	start:
	mov ax,3;
	mov cx,11;
codesg ends
end start
~~~

>   “hello word” 应该用db一个字节来存储，如果用dw来存储，会报错
>
>   段的别名直接使用可以代表段地址
>
>   数据也可以进行标号
>   ~~~ assembly
>   data segment 
>   	arr db 12,34
>   data ends
>   ~~~
>

## 操作符 offset

offset 取得标号的偏移地址

~~~ assembly
assume cs:codesg
codesg segment
start:	mov ax,offset start;
s:		mov ax,offset s;
codesg ends
end start
~~~

eg: 实现对代码的转移

~~~ assembly
assume cs:codesg
codesg segment
s:	mov ax,bx;
	mov si,offset s;
	mov di,offset s0;
	mov dx,cs:[si];
	mov cs:[di],dx;
s0:	nop;
	nop;
cosesg ends
ends
~~~

