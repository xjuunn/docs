# Session认证机制

# HTTP协议的无状态性

每次HTTP请求都是独立的，连续多个请求之间没有直接关系，服务器不会主动保留每次HTTP请求的状态。

## 突破HTTP无状态的限制

### Cookie

cookie是储存在用户浏览器中的一段一般不超过4kb的字符串，由键值对和几个其他用于控制cookie有效期，安全性，使用范围的可选属性构成。

不同域名下的Cookie各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期的Cookie一同发送到服务器。

### Cookie的特性

- 自动发送
- 域名独立
- 过期时限
- 4kb限制

# Cookie在身份认证中的作用

客户端第一次请求服务器的时候，服务器通过响应头的形式，向客户端发送一个身份认证的Cookie，客户端会自动将Cookie保存在浏览器中。

随后，客户端通过浏览器每次请求服务器的时候，浏览器会自动将身份认证相关的Cookit，通过请求头的形式发送给服务器，服务器即可验明客户端的身份。

## Cookie不具有安全性

由于Cookie是存储在浏览器中的，而且浏览器也提供了读写Cookie的API，因此，Cookie很容易被伪造，不具有安全性。因此，不建议使用Cookie发送隐私数据。

# Session的工作原理

![Untitled](Session%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6%20ec12606ee2d448b68c4def013268e9d2/Untitled.png)
